
//Shared
LOOT = {
	{id = 1001, prob = 1, quantity = {1, 1}},
	{id = 1002, prob = 0.1, quantity = {1, 1}},
	{id = 1003, prob = 0.1, quantity = {1, 1}},
	{id = 1004, prob = 1, quantity = {1, 1}},
	{id = 1005, prob = 0.1, quantity = {1, 1}},
	{id = 1006, prob = 1, quantity = {1, 1}},
	{id = 1007, prob = 0.1, quantity = {1, 1}},
	{id = 1008, prob = 1, quantity = {1, 1}},
	{id = 1009, prob = 1, quantity = {1, 1}},
	{id = 1010, prob = 1, quantity = {1, 1}},
	{id = 1011, prob = 1, quantity = {1, 1}},
	{id = 1012, prob = 1, quantity = {1, 1}},
	{id = 1013, prob = 0.1, quantity = {1, 1}},
	{id = 1014, prob = 0.3, quantity = {1, 1}},
	{id = 1015, prob = 1, quantity = {1, 1}},
	{id = 1016, prob = 1, quantity = {1, 1}},
	{id = 1017, prob = 1, quantity = {1, 1}},
	{id = 1018, prob = 1, quantity = {1, 1}},
	{id = 1019, prob = 1, quantity = {1, 1}},
	{id = 1020, prob = 1, quantity = {1, 1}},
	{id = 1021, prob = 1, quantity = {1, 1}},
	{id = 1022, prob = 1, quantity = {1, 1}},
	{id = 1023, prob = 1, quantity = {1, 1}},
	{id = 1024, prob = 1, quantity = {1, 1}},
	{id = 1025, prob = 1, quantity = {1, 1}},
	{id = 1026, prob = 1, quantity = {1, 1}},
	{id = 1027, prob = 1, quantity = {1, 1}},
	{id = 1028, prob = 1, quantity = {1, 1}},
	{id = 1029, prob = 1, quantity = {1, 1}},
	{id = 1030, prob = 1, quantity = {1, 1}},
	{id = 1031, prob = 1, quantity = {1, 1}},
	{id = 1032, prob = 1, quantity = {1, 1}},
	{id = 1033, prob = 1, quantity = {1, 1}},
	{id = 1034, prob = 1, quantity = {1, 1}},
	{id = 1035, prob = 1, quantity = {1, 1}},
	{id = 1036, prob = 1, quantity = {1, 1}},
	{id = 1037, prob = 1, quantity = {1, 1}},
	{id = 1038, prob = 1, quantity = {1, 1}},
	{id = 1039, prob = 1, quantity = {1, 1}},
	{id = 1040, prob = 1, quantity = {1, 1}},
	{id = 1041, prob = 1, quantity = {1, 1}},
	{id = 1042, prob = 1, quantity = {1, 1}},
	{id = 1044, prob = 1, quantity = {1, 1}},
	{id = 1045, prob = 1, quantity = {1, 1}},
	{id = 1046, prob = 1, quantity = {1, 1}},
	{id = 1047, prob = 1, quantity = {1, 1}},
	{id = 1048, prob = 1, quantity = {1, 1}},
	{id = 1049, prob = 1, quantity = {1, 1}},
	{id = 1050, prob = 1, quantity = {1, 1}},
	{id = 1051, prob = 1, quantity = {1, 1}},
	{id = 1052, prob = 1, quantity = {1, 1}},
	{id = 1053, prob = 1, quantity = {1, 1}},
	{id = 1054, prob = 1, quantity = {1, 1}},
	{id = 1055, prob = 1, quantity = {1, 1}},
	{id = 1056, prob = 1, quantity = {1, 1}},
	{id = 1057, prob = 1, quantity = {1, 1}},
	{id = 1058, prob = 1, quantity = {1, 1}},
	{id = 1059, prob = 1, quantity = {1, 1}},
	{id = 1060, prob = 1, quantity = {1, 1}},
	{id = 1061, prob = 1, quantity = {1, 1}},
	{id = 1062, prob = 1, quantity = {1, 1}},
	{id = 1063, prob = 1, quantity = {1, 1}},
	{id = 1064, prob = 1, quantity = {1, 1}},
	{id = 1065, prob = 0.1, quantity = {1, 1}},
	{id = 1066, prob = 1, quantity = {1, 1}},
	{id = 1067, prob = 1, quantity = {1, 1}},
	{id = 1068, prob = 1, quantity = {1, 1}},
	{id = 1069, prob = 1, quantity = {1, 1}},
	{id = 1070, prob = 1, quantity = {1, 1}},
	{id = 1071, prob = 1, quantity = {1, 1}},
	{id = 1072, prob = 1, quantity = {1, 1}},
	{id = 1073, prob = 1, quantity = {1, 1}},
	{id = 1074, prob = 1, quantity = {1, 1}},
	{id = 1075, prob = 1, quantity = {1, 1}},
	{id = 2001, prob = 1, quantity = {1, 1}},
	{id = 2002, prob = 1, quantity = {1, 1}},
	{id = 2003, prob = 1, quantity = {1, 1}},
	{id = 2004, prob = 1, quantity = {1, 1}},
	{id = 2005, prob = 1, quantity = {1, 1}},
	{id = 2006, prob = 1, quantity = {1, 1}},
	{id = 2007, prob = 1, quantity = {1, 1}},
	{id = 2008, prob = 1, quantity = {1, 1}},
	{id = 2009, prob = 1, quantity = {1, 1}},
	{id = 2010, prob = 1, quantity = {1, 1}},
	{id = 2011, prob = 1, quantity = {1, 1}},
	{id = 2012, prob = 1, quantity = {1, 1}},
	{id = 2013, prob = 1, quantity = {1, 1}},
	{id = 2014, prob = 1, quantity = {1, 1}},
	{id = 2015, prob = 1, quantity = {1, 1}},
	{id = 2016, prob = 1, quantity = {1, 1}},
	{id = 2017, prob = 1, quantity = {1, 1}},
	{id = 2018, prob = 1, quantity = {1, 1}},
	{id = 2019, prob = 1, quantity = {1, 1}},
	{id = 2020, prob = 1, quantity = {1, 1}},
	{id = 2021, prob = 1, quantity = {1, 1}},
	{id = 2022, prob = 1, quantity = {1, 1}},
	{id = 2023, prob = 1, quantity = {1, 1}},
	{id = 2024, prob = 1, quantity = {1, 1}},
	{id = 2025, prob = 1, quantity = {1, 1}},
	{id = 2026, prob = 1, quantity = {1, 1}},
	{id = 2027, prob = 1, quantity = {1, 1}},
	{id = 2028, prob = 1, quantity = {1, 1}},
	{id = 2029, prob = 1, quantity = {1, 1}},
	{id = 2030, prob = 1, quantity = {1, 1}},
	{id = 2031, prob = 1, quantity = {1, 1}},
	{id = 2032, prob = 1, quantity = {1, 1}},
	{id = 2033, prob = 1, quantity = {1, 1}},
	{id = 2034, prob = 1, quantity = {1, 1}},
	{id = 2035, prob = 1, quantity = {1, 1}},
	{id = 2036, prob = 1, quantity = {1, 1}},
	{id = 2037, prob = 1, quantity = {1, 1}},
	{id = 2038, prob = 1, quantity = {1, 1}},
	{id = 2039, prob = 1, quantity = {1, 1}},
	{id = 2040, prob = 1, quantity = {1, 1}},
	{id = 2041, prob = 1, quantity = {1, 1}},
	{id = 2042, prob = 1, quantity = {1, 1}},
	{id = 2043, prob = 1, quantity = {1, 1}},
	{id = 2044, prob = 1, quantity = {1, 1}},
	{id = 2045, prob = 1, quantity = {1, 1}},
	{id = 2046, prob = 1, quantity = {1, 1}},
	{id = 2047, prob = 1, quantity = {1, 1}},
	{id = 2048, prob = 1, quantity = {1, 1}},
	{id = 2049, prob = 1, quantity = {1, 1}},
	{id = 2050, prob = 1, quantity = {1, 1}},
	{id = 2051, prob = 1, quantity = {1, 1}},
	{id = 2052, prob = 1, quantity = {1, 1}},
	{id = 2053, prob = 1, quantity = {1, 1}},
	{id = 2054, prob = 1, quantity = {1, 1}},
	{id = 2055, prob = 1, quantity = {1, 1}},
	{id = 2056, prob = 1, quantity = {1, 1}},
	{id = 2057, prob = 1, quantity = {1, 1}},
	{id = 2058, prob = 1, quantity = {1, 1}},
	{id = 2059, prob = 1, quantity = {1, 1}},
	{id = 2060, prob = 1, quantity = {1, 1}},
	{id = 2061, prob = 1, quantity = {1, 1}},
	{id = 2062, prob = 1, quantity = {1, 1}},
	{id = 2063, prob = 1, quantity = {1, 1}},
	{id = 2064, prob = 1, quantity = {1, 1}},
	{id = 2065, prob = 1, quantity = {1, 1}},
	{id = 2066, prob = 0.1, quantity = {1, 1}},
	{id = 2067, prob = 0.1, quantity = {1, 1}},
	{id = 2068, prob = 0.1, quantity = {1, 1}},
	{id = 2069, prob = 0.1, quantity = {1, 1}},
	{id = 2070, prob = 0.1, quantity = {1, 1}},
	{id = 3002, prob = 1, quantity = {1, 30}},
	{id = 3004, prob = 1, quantity = {1, 30}},
	{id = 3005, prob = 1, quantity = {1, 30}},
	{id = 3006, prob = 1, quantity = {1, 30}},
	{id = 3007, prob = 1, quantity = {1, 30}},
	{id = 3008, prob = 1, quantity = {1, 30}},
	{id = 3009, prob = 1, quantity = {1, 30}},
	{id = 3010, prob = 1, quantity = {1, 30}},
	{id = 3011, prob = 1, quantity = {1, 30}},
	{id = 3012, prob = 1, quantity = {1, 30}},
	{id = 3015, prob = 1, quantity = {1, 30}},
	{id = 3016, prob = 1, quantity = {1, 30}},
	{id = 3017, prob = 1, quantity = {1, 30}},
	{id = 3020, prob = 1, quantity = {1, 30}},
	{id = 3021, prob = 1, quantity = {1, 30}},
	{id = 3023, prob = 1, quantity = {1, 30}},
	{id = 3026, prob = 1, quantity = {1, 30}},
	{id = 4001, prob = 2, quantity = {1, 1}},
	{id = 4002, prob = 1, quantity = {1, 1}},
	{id = 4003, prob = 1, quantity = {1, 1}},
	{id = 4004, prob = 5, quantity = {1, 1}},
	{id = 4005, prob = 3, quantity = {1, 1}},
	{id = 4006, prob = 5, quantity = {1, 1}},
	{id = 4007, prob = 5, quantity = {1, 1}},
	{id = 4008, prob = 5, quantity = {1, 1}},
	{id = 4009, prob = 5, quantity = {1, 1}},
	{id = 4010, prob = 5, quantity = {1, 1}},
	{id = 4011, prob = 5, quantity = {1, 1}},
	{id = 4012, prob = 5, quantity = {1, 1}},
	{id = 4013, prob = 1, quantity = {1, 1}},
	{id = 4014, prob = 1, quantity = {1, 1}},
	{id = 5001, prob = 20, quantity = {1, 1}},
	{id = 5002, prob = 20, quantity = {1, 1}},
	{id = 5003, prob = 20, quantity = {1, 1}},
	{id = 5004, prob = 20, quantity = {1, 1}},
	{id = 5005, prob = 20, quantity = {1, 1}},
	{id = 5006, prob = 20, quantity = {1, 1}},
	{id = 5007, prob = 20, quantity = {1, 1}},
	{id = 5008, prob = 20, quantity = {1, 1}},
	{id = 5009, prob = 20, quantity = {1, 1}},
	{id = 5010, prob = 20, quantity = {1, 1}},
	{id = 5011, prob = 20, quantity = {1, 1}},
	{id = 5012, prob = 20, quantity = {1, 1}},
	{id = 5013, prob = 20, quantity = {1, 1}},
	{id = 5014, prob = 1, quantity = {1, 10}, material = true},
	{id = 5015, prob = 20, quantity = {1, 1}},
	{id = 5016, prob = 20, quantity = {1, 1}},
	{id = 5017, prob = 20, quantity = {1, 1}},
	{id = 5018, prob = 20, quantity = {1, 1}},
	{id = 5019, prob = 20, quantity = {1, 1}},
	{id = 5020, prob = 20, quantity = {1, 1}},
	{id = 5021, prob = 20, quantity = {1, 1}},
	{id = 5022, prob = 20, quantity = {1, 1}},
	{id = 5023, prob = 20, quantity = {1, 1}},
	{id = 5024, prob = 20, quantity = {1, 1}},
	{id = 5025, prob = 20, quantity = {1, 1}},
	{id = 5026, prob = 20, quantity = {1, 1}},
	{id = 5027, prob = 1, quantity = {1, 10}, material = true},
	{id = 5028, prob = 0.1, quantity = {1, 5}, material = true},
	{id = 5029, prob = 0.1, quantity = {1, 5}, material = true},
	{id = 5030, prob = 0.1, quantity = {1, 5}, material = true},
	{id = 5031, prob = 0.1, quantity = {1, 5}, material = true},
	{id = 5032, prob = 0.1, quantity = {1, 5}, material = true},
	{id = 5033, prob = 1, quantity = {1, 5}, material = true},
	{id = 5034, prob = 1, quantity = {1, 5}, material = true},
	{id = 5035, prob = 1, quantity = {1, 5}, material = true},
	{id = 5036, prob = 1, quantity = {1, 1}, material = true},
	{id = 5037, prob = 1, quantity = {1, 1}, material = true},
	{id = 5038, prob = 1, quantity = {1, 1}, material = true},
	{id = 5039, prob = 1, quantity = {1, 1}, material = true},
	{id = 5040, prob = 1, quantity = {1, 1}, material = true},
	{id = 5041, prob = 1, quantity = {1, 1}, material = true},
	{id = 5042, prob = 1, quantity = {1, 10}, material = true},
	{id = 5043, prob = 1, quantity = {1, 10}, material = true},
	{id = 5044, prob = 1, quantity = {1, 10}, material = true},
	{id = 5045, prob = 1, quantity = {1, 10}, material = true},
	{id = 5046, prob = 1, quantity = {1, 5}, material = true},
}

LOOT_LEVELS = {
	[15] = {
	
	},
	[30] = {
	
	},
	[50] = {
	
	}
}

LOOT_FACTORIES = {
	[15] = {
		["WEAPONS"] = {
		
		},		
		["APPAREL"] = {
		
		},		
		["AMMO"] = {
		
		},		
		["MISC"] = {
		
		},
	},
	[30] = {
		["WEAPONS"] = {
		
		},		
		["APPAREL"] = {
		
		},		
		["AMMO"] = {
		
		},		
		["MISC"] = {
		
		},
	},
	[50] = {
		["WEAPONS"] = {
		
		},		
		["APPAREL"] = {
		
		},		
		["AMMO"] = {
		
		},		
		["MISC"] = {
		
		},
	}
}

function structureLoot()
	for k, item in pairs(LOOT) do
		local level = getItemLevel(item.id)
		if !level then
			table.insert(LOOT_LEVELS[15], item)
			table.insert(LOOT_LEVELS[30], item)
			table.insert(LOOT_LEVELS[50], item)
		else
			if level <= 15 then
				table.insert(LOOT_LEVELS[15], item)
			elseif level <= 30 then
				table.insert(LOOT_LEVELS[30], item)
			else
				table.insert(LOOT_LEVELS[50], item)
			end
		end
	end
end

function structureFactoryLoot()
	for level, v in pairs(LOOT_LEVELS) do
		for a, item in pairs(v) do
			if isWeapon(item.id) then
				table.insert(LOOT_FACTORIES[level]["WEAPONS"], item)
			elseif isApparel(item.id) then
				table.insert(LOOT_FACTORIES[level]["APPAREL"], item)
			elseif isAmmo(item.id) then
				table.insert(LOOT_FACTORIES[level]["AMMO"], item)
			elseif isMisc(item.id) and item.material then
				table.insert(LOOT_FACTORIES[level]["MISC"], item)
			end
		end
	end
end

hook.Add("InitPostEntity", "structureLoot", function()
	structureLoot()
	structureFactoryLoot()
end)